{% extends 'homepage.html.twig' %}

{% block title %}Gin :: Experiments{% endblock %}

{% block body_main %}
    <div class="row">
        <div class="container container-fluid w-100 p-0 m-0">
            <twig:PageHeader title="Cells" icon="cell" barcode />

            <twig:Layout:Row>
                <twig:Live:Experiment:ExperimentalDesignTable limit="{{ app.user ? app.user.settings.param("entityPageLimit", 30).asInt }}">

                </twig:Live:Experiment:ExperimentalDesignTable>
                {# <twig:Live:CellTable limit="{{ app.user ? app.user.settings.param("entityPageLimit", 30).asInt }}">
                </twig:Live:CellTable> #}
            </twig:Layout:Row>
        </div>
    </div>
{% endblock %}

{#
{% block body_main %}
    <div class="row">
        <div class="container container-fluid w-100 p-0 m-0">
            {{ layout.header("Experiments") }}

            {{
            layout.toolbox([
                {
                    "type": "add",
                    "disabled": true,
                    "tooltipText": "Add new experiment",
                },
            ])
            }}

            <div class="row row-cols-1">
                {% for type in (experiment_types|filter(t => t.parent is null )) %}
                    <div class="col p-0 m-0 mb-3">
                        <div class="card mx-3 h-100">
                            {{ layout.card_header_collapse(type.name, type.id) }}


                            {{ layout.card_body_collapse_start(type.id) }}
                            {% if type.description %}
                                <div class="card-body border-bottom">
                                    {{ type.description }}
                                </div>
                            {% endif %}

                            {% if type.experiments|length > 0 %}
                                <div class="card-body border-bottom">
                                    {{ _self.show_table(type) }}
                                </div>
                            {% endif %}

                            <div class="card-body">
                                {{ _self.show_children(type) }}
                            </div>
                            {{ layout.card_body_collapse_end() }}
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}
#}